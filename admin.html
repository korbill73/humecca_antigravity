<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HUMECCA ê´€ë¦¬ì</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css?v=3.20">
    <link rel="stylesheet" href="admin_style.css?v=3.20"> <!-- Added Admin Styles -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="supabase_config.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Quill Rich Text Editor -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <!-- Inline styles removed to rely on admin_style.css -->
    <style>
        /* === Premium Modal (Dark Theme Override) === */
        .modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(15, 23, 42, 0.7);
            /* Darker backdrop */
            backdrop-filter: blur(8px);
        }

        .modal-content {
            background-color: #1e293b;
            /* Slate 800 */
            margin: 5% auto;
            width: 90%;
            max-width: 700px;
            border-radius: 16px;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.5), 0 0 20px rgba(59, 130, 246, 0.1);
            border: 1px solid #334155;
            overflow: hidden;
            animation: modalPop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            color: #f8fafc;
        }

        @keyframes modalPop {
            from {
                transform: scale(0.95);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .premium-modal-header {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            border-bottom: 1px solid #334155;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
        }

        .premium-modal-title {
            font-size: 1.25rem;
            font-weight: 700;
            letter-spacing: -0.5px;
            color: #60a5fa;
            /* Accent Color */
        }

        .premium-close {
            color: #94a3b8;
            font-size: 28px;
            cursor: pointer;
            transition: color 0.2s;
        }

        .premium-close:hover {
            color: white;
            text-shadow: 0 0 10px white;
        }

        .premium-modal-body {
            padding: 30px;
            background: #1e293b;
        }

        .info-group {
            margin-bottom: 24px;
        }

        .info-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #94a3b8;
            font-weight: 600;
            margin-bottom: 8px;
            display: block;
        }

        .info-value {
            font-size: 1rem;
            color: #f8fafc;
            font-weight: 500;
            line-height: 1.6;
            background: #0f172a;
            /* Darker input-like bg */
            padding: 12px 16px;
            border-radius: 8px;
            border: 1px solid #334155;
        }

        .info-value.highlight {
            background: rgba(59, 130, 246, 0.1);
            border-color: #3b82f6;
            color: #60a5fa;
        }

        /* === Status Tabs (Dashboard) === */
        .status-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e2e8f0;
            overflow-x: auto;
        }

        .status-tab-btn {
            padding: 8px 16px;
            border-radius: 99px;
            /* Pill */
            border: 1px solid #e2e8f0;
            background: white;
            color: #64748b;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .status-tab-btn:hover {
            background: #f8fafc;
            border-color: #cbd5e1;
        }

        .status-tab-btn.active {
            background: #3b82f6;
            /* Blue 500 */
            color: white;
            border-color: #3b82f6;
            box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.3);
        }

        .count-badge {
            background: rgba(0, 0, 0, 0.1);
            padding: 2px 6px;
            border-radius: 12px;
            font-size: 0.75rem;
        }

        /* === Table Improvements === */
        .admin-table tbody tr {
            transition: transform 0.1s, box-shadow 0.1s;
        }

        .admin-table tbody tr:hover {
            transform: translateY(-3px) scale(1.005);
            /* Slightly more lift */
            box-shadow: 0 12px 20px -5px rgba(0, 0, 0, 0.5), 0 4px 6px -2px rgba(59, 130, 246, 0.1);
            background-color: rgba(59, 130, 246, 0.1) !important;
            /* Dark Blue Tint */
            z-index: 10;
            position: relative;
            cursor: pointer;
            transition: all 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
            /* Bouncy Premium Feel */
        }

        /* Specific fix for left border to not mess up padding */
        .admin-table tbody tr:hover td:first-child {
            border-left: 4px solid #3b82f6;
        }

        /* Date Cell */
        .date-cell {
            line-height: 1.3;
        }

        .date-main {
            font-weight: 600;
            color: #f8fafc;
            /* White */
            font-size: 0.9rem;
        }

        .date-sub {
            font-size: 0.8rem;
            color: #94a3b8;
            /* Slate 400 */
        }

        /* Status Badges (Pills) */
        .badge-pill {
            padding: 6px 12px;
            border-radius: 99px;
            font-size: 0.8rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap;
        }

        .badge-red {
            background: rgba(239, 68, 68, 0.1);
            color: #f87171;
        }

        .badge-yellow {
            background: rgba(245, 158, 11, 0.1);
            color: #fbbf24;
        }

        .badge-green {
            background: rgba(16, 185, 129, 0.1);
            color: #34d399;
        }

        .badge-gray {
            background: rgba(255, 255, 255, 0.1);
            color: #94a3b8;
        }

        /* Product Info Cell */
        .prod-name {
            font-weight: 700;
            font-size: 1rem;
            color: #f8fafc;
            /* White */
            margin-bottom: 4px;
        }

        .prod-sub {
            font-size: 0.85rem;
            color: #94a3b8;
            /* Slate 400 */
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .prod-price {
            color: #ef4444;
            /* Keep Red as requested */
            font-weight: 600;
            background: rgba(239, 68, 68, 0.1);
            padding: 2px 6px;
            border-radius: 4px;
            border: 1px solid rgba(239, 68, 68, 0.2);
        }

        /* === Brand Style Interface (Red & White) === */
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');

        /* Global Fix for Layout Shift */
        html {
            overflow-y: scroll;
        }

        .admin-header {
            background: #030712;
            /* Void Black to match dark theme preference */
            background-image:
                radial-gradient(circle at 15% 50%, rgba(59, 130, 246, 0.15) 0%, transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(139, 92, 246, 0.15) 0%, transparent 25%);
            padding: 24px 50px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: space-between;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
        }

        /* Subtle Red/Blue Line */
        .admin-header::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, transparent, #ef4444, #3b82f6, transparent);
            opacity: 0.6;
            z-index: 1001;
        }

        /* Title: Pure White & Tech Font */
        .admin-header h1 {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.3rem;
            font-weight: 900;
            letter-spacing: 1px;
            margin: 0;
            color: #ffffff;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .admin-header h1::before {
            content: '\f132';
            /* Shield */
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            color: #ef4444;
            /* Brand Red */
            font-size: 1.1rem;
        }

        /* Tabs Container */
        .admin-tabs {
            display: flex;
            gap: 8px;
            background: rgba(15, 23, 42, 0.6) !important;
            padding: 6px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(12px);
        }

        /* Button Style - Clean & Readable */
        .admin-tab {
            padding: 10px 22px;
            background: transparent;
            border: 1px solid transparent;
            color: #cbd5e1;
            /* Clear Light Gray for Inactive */
            font-family: 'Pretendard', sans-serif;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            z-index: 1;
            border-radius: 8px;
        }

        /* Hover Effect */
        .admin-tab:hover {
            color: #ffffff;
            background: rgba(255, 255, 255, 0.1);
        }

        /* Active State - BRAND RED (#ef4444) & WHITE TEXT */
        .admin-tab.active {
            color: #ffffff !important;
            background: #ef4444 !important;
            border-color: #ef4444;
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
            font-weight: 700;
        }

        /* Cleanup Pseudos */
        .admin-tab.active::before,
        .admin-tab.active::after {
            display: none;
        }

        /* === Context-Aware Tab Styling (Fixed for Dark Theme) === */
        .card .admin-tabs {
            background: transparent !important;
            border: none;
            padding: 0;
            box-shadow: none;
        }

        /* High Specificity for Terms Buttons */
        div.card div.admin-tabs button.admin-tab {
            color: #94a3b8 !important;
            /* Slate-400 for inactive */
            border: 1px solid transparent;
            background: rgba(30, 41, 59, 0.5) !important;
            /* Darker bg */
            text-shadow: none !important;
            opacity: 1 !important;
        }

        div.card div.admin-tabs button.admin-tab:hover {
            background: rgba(255, 255, 255, 0.05) !important;
            color: #ffffff !important;
        }

        div.card div.admin-tabs button.admin-tab.active {
            background: #ef4444 !important;
            color: #ffffff !important;
            box-shadow: 0 4px 10px rgba(239, 68, 68, 0.3) !important;
        }
    </style>
</head>

<body>
    <div class="admin-header">
        <h1>HUMECCA ë³´ì•ˆ ê´€ì œ</h1>
        <div class="admin-tabs">
            <button class="admin-tab" onclick="showTab('notice')">ê³µì§€ì‚¬í•­</button>
            <button class="admin-tab" onclick="showTab('faq')">FAQ</button>
            <button class="admin-tab" onclick="showTab('inquiry')">ë¬¸ì˜ ê´€ë¦¬</button>
            <button class="admin-tab" onclick="showTab('application')">ì‹ ì²­ ê´€ë¦¬</button>
            <button class="admin-tab active" onclick="showTab('product')">ìƒí’ˆ ê´€ë¦¬</button>
            <button class="admin-tab" onclick="showTab('history')">íšŒì‚¬ ì—°í˜</button>
            <button class="admin-tab" onclick="showTab('customer')">ê³ ê°ì‚¬ ë¡œê³ </button>
            <button class="admin-tab" onclick="showTab('terms')">ì•½ê´€ ê´€ë¦¬</button>
            <button class="admin-tab" onclick="showTab('analytics')">ì›¹ë¡œê·¸ ë¶„ì„</button>
            <button class="admin-tab" onclick="showTab('backup')" id="btn-backup"
                style="background:#334155; color:white; border-left:1px solid #475569;"><i class="fas fa-history"></i>
                ë°±ì—…/ë³µêµ¬</button>
        </div>
    </div>

    <div class="container">

        <!-- ======================= ìƒí’ˆ ê´€ë¦¬ íƒ­ ======================= -->
        <div id="tab-product" class="tab-content active">
            <!-- Header with Data Sync Button -->
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div>
                    <h2 class="page-title">ìƒí’ˆ ë° ì„œë¹„ìŠ¤ ê´€ë¦¬</h2>
                    <p class="page-subtitle">í˜¸ìŠ¤íŒ…, VPN, ë³´ì•ˆ, ë¶€ê°€ì„œë¹„ìŠ¤ ë“± ëª¨ë“  ìƒí’ˆì„ í†µí•© ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
                </div>
                <!-- Data Import Button removed as per request -->
            </div>

            <a href="index.html" class="back-link" style="display:block; margin-bottom: 20px;"><i
                    class="fas fa-arrow-left"></i> í™ˆí˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°</a>

            <div id="product-alert-container"></div>

            <!-- íƒ­ ë©”ë‰´ (Centering handled by CSS) -->
            <div class="tabs">
                <div class="tab active" onclick="switchProductTab('hosting')" id="tab-hosting">ì„œë²„ í˜¸ìŠ¤íŒ…</div>
                <div class="tab" onclick="switchProductTab('vpn')" id="tab-vpn">VPN ì „ìš©ì„ </div>
                <div class="tab" onclick="switchProductTab('colocation')" id="tab-colocation">ì½”ë¡œì¼€ì´ì…˜</div>
                <div class="tab" onclick="switchProductTab('security')" id="tab-security">ë³´ì•ˆ ì„œë¹„ìŠ¤</div>
                <div class="tab" onclick="switchProductTab('solution')" id="tab-solution">ê¸°ì—… ì†”ë£¨ì…˜</div>
                <div class="tab" onclick="switchProductTab('service')" id="tab-service">ë¶€ê°€ì„œë¹„ìŠ¤</div>
            </div>

            <!-- 1. ì„œë²„ í˜¸ìŠ¤íŒ… ê´€ë¦¬ ì„¹ì…˜ -->
            <div id="sub-hosting" class="sub-content">
                <!-- ëª©ë¡ Card (ìƒë‹¨ ë°°ì¹˜) -->
                <div class="card" style="margin-bottom:30px;">
                    <div class="card-header">
                        <h3 class="card-title">ì„œë²„ í˜¸ìŠ¤íŒ… ëª©ë¡</h3>
                    </div>
                    <div style="overflow-x:auto;">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th width="50">#</th>
                                    <th>ìƒí’ˆëª…</th>
                                    <th>ê°€ê²©</th>
                                    <th>ì‚¬ì–‘ (CPU/RAM)</th>
                                    <th>ìƒíƒœ</th>
                                    <th>ê´€ë¦¬</th>
                                </tr>
                            </thead>
                            <tbody id="hosting-list-body"></tbody>
                        </table>
                    </div>
                </div>

                <!-- ë“±ë¡/ìˆ˜ì • í¼ (í•˜ë‹¨ ë°°ì¹˜) -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title" id="h-form-title">í˜¸ìŠ¤íŒ… ìƒí’ˆ ë“±ë¡/ìˆ˜ì •</h3>
                        <button type="button" class="btn btn-secondary btn-sm" onclick="resetForm('hosting')"
                            style="margin-left: auto;">
                            <i class="fas fa-undo"></i> ì´ˆê¸°í™”
                        </button>
                    </div>
                    <form id="hosting-form">
                        <input type="hidden" id="h-id-hidden"> <!-- For Edit Mode -->

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div class="form-group">
                                <label>ìƒí’ˆëª…</label>
                                <input type="text" id="h-name" class="form-control" placeholder="ìƒí’ˆëª… ì…ë ¥" required>
                                <small>ì˜ˆ: ë¹„ì¦ˆë‹ˆìŠ¤</small>
                            </div>
                            <div class="form-group" style="display:none;">
                                <label>ê³ ìœ  ID (ì˜ë¬¸/ìˆ«ì)</label>
                                <input type="text" id="h-id" class="form-control" placeholder="ê³ ìœ  ID ì…ë ¥">
                                <small>ì˜ˆ: biz_01</small>
                            </div>
                            <div class="form-group">
                                <label>ê°€ê²© (ìˆ«ì, ì½¤ë§ˆ í¬í•¨)</label>
                                <input type="text" id="h-price" class="form-control" placeholder="ê°€ê²© ì…ë ¥" required>
                                <small>ì˜ˆ: 199,000</small>
                            </div>
                            <div class="form-group">
                                <label>ê¸°ê°„/ë‹¨ìœ„</label>
                                <select id="h-period" class="form-control">
                                    <option value="ì›”">ì›” (Month)</option>
                                    <option value="ë…„">ë…„ (Year)</option>
                                    <option value="1íšŒ">1íšŒ (One-time)</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>CPU</label>
                                <input type="text" id="h-cpu" class="form-control" placeholder="CPU ìŠ¤í™ ì…ë ¥">
                                <small>ì˜ˆ: Xeon Silver 4210</small>
                            </div>
                            <div class="form-group">
                                <label>RAM</label>
                                <input type="text" id="h-ram" class="form-control" placeholder="RAM ìŠ¤í™ ì…ë ¥">
                                <small>ì˜ˆ: 64GB DDR4</small>
                            </div>
                            <div class="form-group">
                                <label>Storage</label>
                                <input type="text" id="h-storage" class="form-control" placeholder="ì €ì¥ê³µê°„ ì…ë ¥">
                                <small>ì˜ˆ: 1TB NVMe</small>
                            </div>
                            <div class="form-group">
                                <label>Traffic</label>
                                <input type="text" id="h-traffic" class="form-control" placeholder="íŠ¸ë˜í”½ ì…ë ¥">
                                <small>ì˜ˆ: 10Gbps Ready</small>
                            </div>
                            <div class="form-group">
                                <label>ë±ƒì§€ ë¼ë²¨ (ì„ íƒ)</label>
                                <input type="text" id="h-badge" class="form-control" placeholder="ë±ƒì§€ ë¼ë²¨ ì…ë ¥">
                                <small>ì˜ˆ: BEST, NEW</small>
                            </div>
                            <div class="form-group">
                                <label>í•œì¤„ ìš”ì•½ (ì„¤ëª…)</label>
                                <input type="text" id="h-summary" class="form-control" placeholder="ìƒí’ˆì— ëŒ€í•œ ì§§ì€ ì„¤ëª…">
                            </div>
                        </div>
                        <div class="form-group" style="margin-top:15px;">
                            <label>ì£¼ìš” íŠ¹ì§• (ì—”í„°ë¡œ ì¤„ë°”ê¿ˆ)</label>
                            <textarea id="h-features" class="form-control" rows="4"
                                placeholder="íŠ¹ì§• 1&#13;&#10;íŠ¹ì§• 2"></textarea>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top:15px;">
                            <div class="form-group">
                                <label>ì •ë ¬ ìˆœì„œ</label>
                                <input type="number" id="h-order" class="form-control" value="1">
                            </div>
                            <div class="form-group" style="padding-top:30px;">
                                <label><input type="checkbox" id="h-active" checked> íŒë§¤ í™œì„±í™”</label>
                            </div>
                        </div>
                        <div
                            style="text-align: right; margin-top:20px; display: flex; justify-content: flex-end; gap: 10px;">
                            <button type="submit" class="btn btn-primary" id="btn-save-hosting">ìƒí’ˆ ì €ì¥</button>
                        </div>
                    </form>
                </div>
            </div>

            <div id="sub-vpn" class="sub-content" style="display:none;">

                <!-- ëª©ë¡ Card (ìƒë‹¨) -->
                <div class="card" style="margin-bottom: 30px;">
                    <div class="card-header">
                        <h3 class="card-title">VPN ìƒí’ˆ ëª©ë¡</h3>
                    </div>
                    <div style="overflow-x:auto;">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th width="50">#</th>
                                    <th>ìƒí’ˆëª…</th>
                                    <th>ê°€ê²©</th>
                                    <th>ìŠ¤í™ ìš”ì•½</th>
                                    <th>ìƒíƒœ</th>
                                    <th>ê´€ë¦¬</th>
                                </tr>
                            </thead>
                            <tbody id="vpn-list-body"></tbody>
                        </table>
                    </div>
                </div>

                <!-- í¼ Card (í•˜ë‹¨) -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title" id="v-form-title">VPN ìƒí’ˆ ë“±ë¡/ìˆ˜ì •</h3>
                        <button type="button" class="btn btn-secondary btn-sm" onclick="resetForm('vpn')"
                            style="margin-left: auto;">
                            <i class="fas fa-undo"></i> ì´ˆê¸°í™”
                        </button>
                    </div>
                    <form id="vpn-form">
                        <input type="hidden" id="v-id-hidden"> <!-- For Edit Mode -->
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div class="form-group">
                                <label>ìƒí’ˆëª…</label>
                                <input type="text" id="v-name" class="form-control" placeholder="ìƒí’ˆëª… ì…ë ¥" required>
                                <small>ì˜ˆ: Standard VPN</small>
                            </div>
                            <div class="form-group" style="display:none;">
                                <label>ê³ ìœ  ID (ì˜ë¬¸/ìˆ«ì)</label>
                                <input type="text" id="v-id" class="form-control" placeholder="ê³ ìœ  ID ì…ë ¥">
                                <small>ì˜ˆ: vpn_std</small>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top:15px;">
                            <div class="form-group">
                                <label>ê°€ê²©</label>
                                <input type="text" id="v-price" class="form-control" placeholder="ê°€ê²© ì…ë ¥">
                                <small>ì˜ˆ: 50,000</small>
                            </div>
                            <div class="form-group">
                                <label>ê¸°ê°„/ë‹¨ìœ„</label>
                                <select id="v-period" class="form-control">
                                    <option value="ì›”">ì›” (Month)</option>
                                    <option value="ë…„">ë…„ (Year)</option>
                                    <option value="1íšŒ">1íšŒ (One-time)</option>
                                </select>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-top:15px;">
                            <div class="form-group">
                                <label>ì†ë„</label>
                                <input type="text" id="v-speed" class="form-control" placeholder="ì†ë„ ì…ë ¥">
                                <small>ì˜ˆ: 100Mbps</small>
                            </div>
                            <div class="form-group">
                                <label>ê±°ì  ìˆ˜</label>
                                <input type="text" id="v-sites" class="form-control" placeholder="ê±°ì  ìˆ˜ ì…ë ¥">
                                <small>ì˜ˆ: 5 Site</small>
                            </div>
                            <div class="form-group">
                                <label>ì‚¬ìš©ì ìˆ˜</label>
                                <input type="text" id="v-users" class="form-control" placeholder="ì‚¬ìš©ì ìˆ˜ ì…ë ¥">
                                <small>ì˜ˆ: 50 Users</small>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top:15px;">
                            <div class="form-group">
                                <label>ë±ƒì§€ (ì„ íƒ)</label>
                                <input type="text" id="v-badge" class="form-control" placeholder="ë±ƒì§€ ì…ë ¥">
                                <small>ì˜ˆ: BEST</small>
                            </div>
                            <div class="form-group">
                                <label>í•œì¤„ ìš”ì•½</label>
                                <input type="text" id="v-summary" class="form-control" placeholder="ìš”ì•½ ì„¤ëª… ì…ë ¥">
                            </div>
                        </div>
                        <div class="form-group" style="margin-top:15px;">
                            <label>ì£¼ìš” íŠ¹ì§• (ì—”í„°ë¡œ ì¤„ë°”ê¿ˆ)</label>
                            <textarea id="v-features" class="form-control" rows="4"></textarea>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top:15px;">
                            <div class="form-group">
                                <label>ì •ë ¬ ìˆœì„œ</label>
                                <input type="number" id="v-order" class="form-control" value="1">
                            </div>
                            <div class="form-group" style="padding-top:30px;">
                                <label><input type="checkbox" id="v-active" checked> íŒë§¤ í™œì„±í™”</label>
                                <label style="margin-left:15px;"><input type="checkbox" id="v-popular">
                                    ì¸ê¸°ìƒí’ˆ</label>
                            </div>
                        </div>
                        <div style="text-align: right; margin-top:20px;">
                            <button type="submit" class="btn btn-primary" id="btn-save-vpn">ìƒí’ˆ ì €ì¥</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Colocation Sub -->
            <div id="sub-colocation" class="sub-content" style="display:none;">
                <!-- List Card (Top) -->
                <div class="card" style="margin-bottom: 30px;">
                    <div class="card-header">
                        <h3 class="card-title">ì½”ë¡œì¼€ì´ì…˜ ëª©ë¡</h3>
                    </div>
                    <div style="overflow-x:auto;">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th width="50">#</th>
                                    <th>ìƒí’ˆëª…</th>
                                    <th>ê°€ê²©</th>
                                    <th>ì‚¬ì–‘(ê³µê°„/ì „ë ¥)</th>
                                    <th>ìƒíƒœ</th>
                                    <th>ê´€ë¦¬</th>
                                </tr>
                            </thead>
                            <tbody id="colocation-list-body"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Form Card (Bottom) -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title" id="c-form-title">ì½”ë¡œì¼€ì´ì…˜ ìƒí’ˆ ë“±ë¡/ìˆ˜ì •</h3>
                        <button type="button" class="btn btn-secondary btn-sm" onclick="resetForm('colocation')"
                            style="margin-left: auto;">
                            <i class="fas fa-undo"></i> ì´ˆê¸°í™”
                        </button>
                    </div>
                    <form id="colocation-form">
                        <input type="hidden" id="c-id-hidden">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                            <div class="form-group">
                                <label>ìƒí’ˆëª…</label>
                                <input type="text" id="c-name" class="form-control" required placeholder="ìƒí’ˆëª… ì…ë ¥">
                                <small>ì˜ˆ: 1U Server</small>
                            </div>
                            <div class="form-group" style="display:none;">
                                <label>ìƒí’ˆ ID (Slug)</label>
                                <input type="text" id="c-id" class="form-control" placeholder="ID ì…ë ¥">
                                <small>ì˜ˆ: colo_1u</small>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top:15px;">
                            <div class="form-group">
                                <label>ê°€ê²©</label>
                                <input type="text" id="c-price" class="form-control" placeholder="ê°€ê²© ì…ë ¥">
                                <small>ì˜ˆ: 100,000</small>
                            </div>
                            <div class="form-group">
                                <label>ê¸°ê°„</label>
                                <select id="c-period" class="form-control">
                                    <option value="ì›”">ì›” (Month)</option>
                                    <option value="ë…„">ë…„ (Year)</option>
                                    <option value="1íšŒ">1íšŒ (One-time)</option>
                                </select>
                            </div>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top:15px;">
                            <div class="form-group">
                                <label>ê³µê°„ (Space)</label>
                                <input type="text" id="c-cpu" class="form-control" placeholder="ê³µê°„ ìŠ¤í™ ì…ë ¥">
                                <small>ì˜ˆ: 1U / Quarter Rack</small>
                            </div>
                            <div class="form-group">
                                <label>ì „ë ¥ (Power)</label>
                                <input type="text" id="c-ram" class="form-control" placeholder="ì „ë ¥ ìŠ¤í™ ì…ë ¥">
                                <small>ì˜ˆ: 1A / 2.2kW</small>
                            </div>
                        </div>
                        <div class="form-group" style="margin-top:15px;">
                            <label>ìš”ì•½ì„¤ëª…</label>
                            <input type="text" id="c-summary" class="form-control" placeholder="ê°„ë‹¨í•œ ì„¤ëª… ì…ë ¥">
                        </div>
                        <div class="form-group" style="margin-top:15px;">
                            <label>ì£¼ìš” íŠ¹ì§• (ì—”í„°ë¡œ ì¤„ë°”ê¿ˆ)</label>
                            <textarea id="c-features" class="form-control" rows="4"></textarea>
                        </div>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top:15px;">
                            <div class="form-group">
                                <label>ì •ë ¬ ìˆœì„œ</label>
                                <input type="number" id="c-order" class="form-control" value="1">
                            </div>
                            <div class="form-group" style="padding-top:30px;">
                                <label><input type="checkbox" id="c-active" checked> íŒë§¤ í™œì„±í™”</label>
                                <label style="margin-left:15px;"><input type="checkbox" id="c-popular"> ì¸ê¸°ìƒí’ˆ</label>
                            </div>
                        </div>
                        <div style="text-align: right; margin-top:20px;">
                            <button type="submit" class="btn btn-primary" id="btn-save-colocation">ìƒí’ˆ ì €ì¥</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- 4. ë³´ì•ˆ ì„œë¹„ìŠ¤ ê´€ë¦¬ ì„¹ì…˜ (New) -->
            <div id="sub-security" class="sub-content" style="display:none;">
                <div class="card" style="margin-bottom: 20px; border-left: 5px solid #ef4444;">
                    <div style="display: flex; align-items: center; justify-content: space-between;">
                        <div>
                            <h3 style="margin: 0; font-size: 1.1rem;">ğŸ›¡ï¸ ë³´ì•ˆ ì„œë¹„ìŠ¤ ì¹´í…Œê³ ë¦¬</h3>
                            <p style="margin: 5px 0 0; color: #666; font-size: 0.9rem;">WAF, SSL, ì•ˆí‹°ë°”ì´ëŸ¬ìŠ¤ ë“± ë³´ì•ˆ ìƒí’ˆ ê´€ë¦¬
                            </p>
                        </div>
                        <select id="security-type-select" class="form-input" style="width: 250px; font-weight: bold;"
                            onchange="renderProducts()">
                            <option value="security-waf">ğŸ”¥ ì›¹ë°©í™”ë²½ (WAF)</option>
                            <option value="security-waf-pro">ğŸ›¡ï¸ WAF Pro (Managed)</option>
                            <option value="security-cleanzone">ğŸ§¹ í´ë¦°ì¡´ (Anti-DDoS)</option>
                            <option value="security-private-ca">ğŸ”‘ Private CA</option>
                            <option value="security-ssl">ğŸ”’ SSL ì¸ì¦ì„œ</option>
                            <option value="security-v3">ğŸ¦  V3 Net Server</option>
                            <option value="security-dbsafer">ğŸ—„ï¸ DBSAFER</option>
                        </select>
                    </div>
                </div>

                <!-- ë³´ì•ˆ ì„œë¹„ìŠ¤ ë¦¬ìŠ¤íŠ¸ (Swapped to Top) -->
                <div class="card" style="margin-bottom: 30px;">
                    <div class="card-header">
                        <h3 id="sec-list-subtitle" class="card-title">ë“±ë¡ëœ ë³´ì•ˆ ìƒí’ˆ ëª©ë¡</h3>
                        <span class="badge badge-blue">DB ì—°ë™</span>
                    </div>
                    <div style="overflow-x:auto;">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th width="50">ìˆœì„œ</th>
                                    <th>ìƒí’ˆëª…/ID</th>
                                    <th>ê°€ê²©/ë‹¨ìœ„</th>
                                    <th>ì£¼ìš” ìŠ¤í™</th>
                                    <th>ìƒíƒœ</th>
                                    <th width="80">ê´€ë¦¬</th>
                                </tr>
                            </thead>
                            <tbody id="security-list-body">
                                <!-- JS Rendered -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- ë³´ì•ˆ ì„œë¹„ìŠ¤ ë“±ë¡ ìˆ˜ì • í¼ (Swapped to Bottom) -->
                <div class="card mt-4">
                    <div class="card-header">
                        <h3 class="card-title">ìƒí’ˆ ë“±ë¡ / ìˆ˜ì •</h3>
                        <button type="button" class="btn btn-secondary btn-sm" onclick="resetForm('security')"
                            style="margin-left: auto;">
                            <i class="fas fa-undo"></i> ì´ˆê¸°í™”
                        </button>
                    </div>
                    <form id="security-form">
                        <input type="hidden" id="sec-id-hidden">
                        <div class="grid-2">
                            <div class="form-group">
                                <label>ìƒí’ˆëª…</label>
                                <input type="text" id="sec-name" class="form-control" placeholder="ìƒí’ˆëª… ì…ë ¥" required>
                                <small>ì˜ˆ: Standard</small>
                            </div>
                            <div class="form-group" style="display:none;">
                                <label>ìƒí’ˆ ID (ìœ ë‹ˆí¬)</label>
                                <input type="text" id="sec-id" class="form-control" placeholder="ID ì…ë ¥">
                                <small>ì˜ˆ: waf-std</small>
                            </div>
                        </div>
                        <div class="grid-2" style="margin-top:15px;">
                            <div class="form-group">
                                <label>ê°€ê²© (ìˆ«ì, ì½¤ë§ˆ)</label>
                                <input type="text" id="sec-price" class="form-control" placeholder="ê°€ê²© ì…ë ¥" required>
                                <small>ì˜ˆ: 300,000</small>
                            </div>
                            <div class="form-group">
                                <label>ë‹¨ìœ„ (ê¸°ê°„/ê±´)</label>
                                <input type="text" id="sec-period" class="form-control" placeholder="ë‹¨ìœ„ ì…ë ¥" required>
                                <small>ì˜ˆ: ì›”, ë…„, ê±´</small>
                            </div>
                        </div>
                        <div style="margin-top:15px;">
                            <div class="form-group">
                                <label>ìš”ì•½ ì„¤ëª… (ë¶€ì œëª©)</label>
                                <input type="text" id="sec-summary" class="form-control" placeholder="ì„¤ëª… ì…ë ¥">
                                <small>ë¦¬ìŠ¤íŠ¸ì— í‘œì‹œë  ì§§ì€ ì„¤ëª…</small>
                            </div>
                        </div>
                        <div class="grid-2" style="margin-top:15px;">
                            <div class="form-group">
                                <label>ë±ƒì§€ (ì¸ê¸°/ì¶”ì²œ)</label>
                                <input type="text" id="sec-badge" class="form-control" placeholder="ë±ƒì§€ ì…ë ¥">
                                <small>ì˜ˆ: ì¸ê¸°, ì¶”ì²œ</small>
                            </div>
                            <div class="form-group">
                                <label>ì •ë ¬ ìˆœì„œ</label>
                                <input type="number" id="sec-order" class="form-control" value="1">
                            </div>
                        </div>
                        <div class="form-group" style="margin-top:15px;">
                            <label>ìƒì„¸ ê¸°ëŠ¥ (í•œ ì¤„ì— í•˜ë‚˜ì”©)</label>
                            <textarea id="sec-features" class="form-control" rows="4"
                                placeholder="ê¸°ëŠ¥ 1&#10;ê¸°ëŠ¥ 2&#10;ê¸°ëŠ¥ 3"></textarea>
                        </div>
                        <div class="form-group" style="margin-top:20px;">
                            <label><input type="checkbox" id="sec-active" checked> íŒë§¤ ì¤‘ (í™œì„±í™”)</label>
                        </div>
                        <div
                            style="margin-top: 20px; text-align: right; display: flex; justify-content: flex-end; gap: 10px;">
                            <button type="submit" class="btn btn-primary" id="btn-save-security">ì €ì¥í•˜ê¸°</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- 5. ë¶€ê°€ì„œë¹„ìŠ¤ ê´€ë¦¬ ì„¹ì…˜ -->
            <!-- 5. ê¸°ì—… ì†”ë£¨ì…˜ ì„¹ì…˜ (New) -->
            <div id="sub-solution" class="sub-content" style="display:none;">
                <div class="card" style="margin-bottom:30px;">
                    <div class="card-header">
                        <h3 class="card-title">ê¸°ì—… ì†”ë£¨ì…˜ ê´€ë¦¬</h3>
                        <div style="display:flex; gap:10px;">
                            <select id="solution-type-select" class="form-input" style="width: 200px; padding: 5px;"
                                onchange="renderProducts()">
                                <option value="solution">MS365 / ê·¸ë£¹ì›¨ì–´</option>
                                <option value="naverworks">ë„¤ì´ë²„ì›ìŠ¤</option>
                                <option value="website">í™ˆí˜ì´ì§€ ì œì‘</option>
                            </select>
                            <button class="btn btn-primary" onclick="toggleProductForm('solution')">
                                <i class="fas fa-plus"></i> ì†”ë£¨ì…˜ ìƒí’ˆ ì¶”ê°€
                            </button>
                        </div>
                    </div>
                </div>

                <!-- List (Moved Up) -->
                <div class="card" style="margin-top:20px; margin-bottom: 30px;">
                    <div style="overflow-x:auto;">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th width="50">#</th>
                                    <th>ì†”ë£¨ì…˜ëª…</th>
                                    <th>ë¹„ìš©</th>
                                    <th>ì„¤ëª…/ì‚¬ì–‘</th>
                                    <th width="80">ì‚¬ìš©</th>
                                    <th width="120">ê´€ë¦¬</th>
                                </tr>
                            </thead>
                            <tbody id="product-list-solution">
                                <!-- JS will load rows here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Form -->
                <div id="solution-form-container"
                    style="display:none; padding: 25px; background: #1e293b; margin-bottom: 25px; border-radius: 12px; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2); border: 1px solid #334155;">
                    <input type="hidden" id="solution-id-hidden">
                    <input type="hidden" id="solution-subcategory-hidden"> <!-- Added for Category Tracking -->
                    <h4
                        style="margin-bottom: 20px; font-size: 1.1rem; color: #e2e8f0; border-left: 4px solid #ef4444; padding-left: 10px;">
                        ì†”ë£¨ì…˜ ìƒì„¸ ì •ë³´ ì…ë ¥</h4>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                        <!-- Left Column -->
                        <div class="form-group" style="grid-column: 1 / -1;">
                            <label style="display:block; margin-bottom: 5px; font-weight: 600; color: #cbd5e1;">ì†”ë£¨ì…˜ ë¶„ë¥˜
                                (í•„ìˆ˜)</label>
                            <select id="solution-type-select" class="form-control"
                                style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #334155; background: #0f172a; color: #e2e8f0;">
                                <option value="solution">ì¼ë°˜ ì†”ë£¨ì…˜</option>
                                <option value="naverworks">ë„¤ì´ë²„ì›ìŠ¤ (Naver Works)</option>
                                <option value="website">í™ˆí˜ì´ì§€ ì œì‘ (Website)</option>
                            </select>
                            <small style="color:#94a3b8;">* ê¸°ì¡´ ìƒí’ˆ ìˆ˜ì • ì‹œì—ëŠ” ì´ ê°’ì´ ìë™ìœ¼ë¡œ ë¬´ì‹œë©ë‹ˆë‹¤.</small>
                        </div>


                        <div class="form-group">
                            <label style="display:block; margin-bottom: 5px; font-weight: 600; color: #cbd5e1;">ì†”ë£¨ì…˜
                                ëª…</label>
                            <input type="text" id="solution-name" class="form-control"
                                placeholder="ì˜ˆ: Microsoft 365 Business Standard"
                                style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #334155; background: #0f172a; color: #e2e8f0;">
                        </div>

                        <div class="form-group">
                            <label style="display:block; margin-bottom: 5px; font-weight: 600; color: #cbd5e1;">ë±ƒì§€
                                (Badge)</label>
                            <input type="text" id="solution-badge" class="form-control" placeholder="ì˜ˆ: ì¸ê¸° ìƒí’ˆ, BEST, ì¶”ì²œ"
                                style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #334155; background: #0f172a; color: #e2e8f0;">
                        </div>

                        <div class="form-group">
                            <label style="display:block; margin-bottom: 5px; font-weight: 600; color: #cbd5e1;">ìš”ì•½
                                (Summary)</label>
                            <input type="text" id="solution-summary" class="form-control"
                                placeholder="ì˜ˆ: ì‚¬ìš©ì/ì›” (ì—°ê°„ ì•½ì •ì‹œ)"
                                style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #334155; background: #0f172a; color: #e2e8f0;">
                        </div>

                        <div class="form-group">
                            <label
                                style="display:block; margin-bottom: 5px; font-weight: 600; color: #cbd5e1;">ë¹„ìš©</label>
                            <input type="text" id="solution-price" class="form-control"
                                placeholder="ì˜ˆ: 50000 (ìˆ«ìë§Œ ì…ë ¥) ë˜ëŠ” 'ë¬¸ì˜'"
                                style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #334155; background: #0f172a; color: #e2e8f0;">
                        </div>
                        <div class="form-group" style="grid-column: 1 / -1;">
                            <label style="display:block; margin-bottom: 5px; font-weight: 600; color: #cbd5e1;">ì†”ë£¨ì…˜
                                íŠ¹ì§•/ê¸°ëŠ¥
                                (í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼, í¬ê¸°, ìƒ‰ìƒ í¸ì§‘ ê°€ëŠ¥)</label>
                            <!-- Quill Toolbar will be auto-inserted here by JS -->
                            <div id="solution-editor-container" style="height: 200px;"></div>
                            <input type="hidden" id="solution-features">
                        </div>

                        <div class="form-group">
                            <label style="display:block; margin-bottom: 5px; font-weight: 600; color: #cbd5e1;">í‘œì‹œ
                                ìˆœì„œ</label>
                            <input type="number" id="solution-order" class="form-control" value="1"
                                style="width: 100%; padding: 10px; border-radius: 6px; border: 1px solid #334155; background: #0f172a; color: #e2e8f0;">
                        </div>
                    </div>

                    <div class="form-group" style="display: flex; align-items: center; padding-top: 25px;">
                        <input type="checkbox" id="solution-active" checked
                            style="width: 20px; height: 20px; margin-right: 10px; cursor: pointer; accent-color: #ef4444;">
                        <label for="solution-active" style="cursor: pointer; font-weight: 600; color: #cbd5e1;">ì‚¬ìš©
                            (ì›¹ì‚¬ì´íŠ¸ì— í‘œì‹œ)</label>
                    </div>
                </div>

                <div style="margin-top: 30px; text-align: right; border-top: 1px solid #334155; padding-top: 20px;">
                    <button class="btn btn-secondary" onclick="toggleProductForm('solution')"
                        style="margin-right: 10px; padding: 10px 20px; background: #334155; color: #e2e8f0; border: none; border-radius: 6px; font-weight: 600;">ì·¨ì†Œ</button>
                    <button class="btn btn-primary" onclick="saveProduct(event, 'solution')"
                        style="padding: 10px 30px; background: #ef4444; color: white; border: none; border-radius: 6px; font-weight: 600; box-shadow: 0 4px 6px -1px rgba(239, 68, 68, 0.4);">ì €ì¥ì™„ë£Œ</button>
                </div>
            </div>
            <!-- List -->

        </div>

        <!-- 6. ë¶€ê°€ì„œë¹„ìŠ¤ ê´€ë¦¬ ì„¹ì…˜ -->
        <div id="sub-service" class="sub-content" style="display:none;">

            <!-- ì¹´í…Œê³ ë¦¬ ì„ íƒ (ë¶€ê°€ì„œë¹„ìŠ¤ ë‚´ ì„¸ë¶„í™”) -->
            <div class="card" style="margin-bottom: 20px; border-left: 5px solid #8b5cf6;">
                <div style="display: flex; align-items: center; justify-content: space-between;">
                    <div>
                        <h3 style="margin: 0; font-size: 1.1rem;">ğŸ“‚ ë¶€ê°€ì„œë¹„ìŠ¤ ì¹´í…Œê³ ë¦¬ ì„ íƒ</h3>
                        <p style="margin: 5px 0 0; color: #666; font-size: 0.9rem;">ê´€ë¦¬í•  ë¶€ê°€ì„œë¹„ìŠ¤ì˜ ì¢…ë¥˜ë¥¼ ì„ íƒí•˜ì„¸ìš”.</p>
                    </div>
                    <select id="service-type-select" class="form-input" style="width: 250px; font-weight: bold;"
                        onchange="renderProducts()">
                        <option value="addon-license">ğŸ’¾ ì†Œí”„íŠ¸ì›¨ì–´ ë¼ì´ì„ ìŠ¤</option>
                        <option value="addon-backup">ğŸ§± ë°±ì—… ì„œë¹„ìŠ¤</option>
                        <option value="addon-ha">âš¡ HA (ê³ ê°€ìš©ì„±)</option>
                        <option value="addon-lb">âš–ï¸ ë¡œë“œë°¸ëŸ°ì‹±</option>
                        <option value="addon-cdn">ğŸŒ CDN</option>
                        <option value="addon-recovery">ğŸš‘ ë°ì´í„° ë³µêµ¬</option>
                        <option value="addon-monitoring">ğŸ–¥ï¸ ëª¨ë‹ˆí„°ë§</option>
                        <option value="addon-management">ğŸ”§ ìš´ì˜ ê´€ë¦¬ / ê¸°ìˆ ì§€ì›</option>
                        <option value="addon-etc">ğŸ“¦ ê¸°íƒ€ ë¶€ê°€ì„œë¹„ìŠ¤</option>
                    </select>
                </div>
            </div>

            <!-- ëª©ë¡ Card (Swapped to Top) -->
            <div class="card" style="margin-top:20px; margin-bottom: 30px;">
                <div class="card-header">
                    <h3 class="card-title">ëª©ë¡</h3>
                    <p style="margin:0; font-size:0.9rem; color:#666;" id="s-list-subtitle">ì„ íƒëœ ì¹´í…Œê³ ë¦¬ì˜ ìƒí’ˆì´ í‘œì‹œë©ë‹ˆë‹¤.
                    </p>
                </div>
                <div style="overflow-x:auto;">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th width="50">#</th>
                                <th>ì„œë¹„ìŠ¤ëª…</th>
                                <th>ê°€ê²©</th>
                                <th>ì„¤ëª…</th>
                                <th>ìƒíƒœ</th>
                                <th>ê´€ë¦¬</th>
                            </tr>
                        </thead>
                        <tbody id="service-list-body"></tbody>
                    </table>
                </div>
            </div>

            <!-- ë“±ë¡/ìˆ˜ì • í¼ (Swapped to Bottom) -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title" id="s-form-title">ë¶€ê°€ì„œë¹„ìŠ¤ ìƒí’ˆ ë“±ë¡/ìˆ˜ì •</h3>
                    <button type="button" class="btn btn-secondary btn-sm" onclick="resetForm('service')"
                        style="margin-left: auto;">
                        <i class="fas fa-undo"></i> ì´ˆê¸°í™”
                    </button>
                </div>
                <form id="service-form">
                    <input type="hidden" id="s-edit-index" value="">
                    <input type="hidden" id="s-id-hidden"> <!-- New ID hidden for generic -->

                    <div class="grid-2">
                        <div class="form-group">
                            <label class="form-label">ì„œë¹„ìŠ¤ëª…</label>
                            <input type="text" id="s-name" class="form-control" placeholder="ì„œë¹„ìŠ¤ëª… ì…ë ¥" required>
                            <small>ì˜ˆ: Windows Server 2019</small>
                        </div>
                        <div class="form-group" style="display:none;">
                            <label class="form-label">ì„œë¹„ìŠ¤ ID (ìœ ë‹ˆí¬)</label>
                            <input type="text" id="s-id" class="form-control" placeholder="ID ì…ë ¥">
                            <small>ì˜ˆ: win_2019_std</small>
                        </div>
                    </div>

                    <div class="grid-2" style="margin-top:15px;">
                        <div class="form-group">
                            <label class="form-label">ê°€ê²©</label>
                            <input type="text" id="s-price" class="form-control" placeholder="ê°€ê²© ì…ë ¥" required>
                            <small>ì˜ˆ: 41,000</small>
                        </div>
                        <div class="form-group">
                            <label class="form-label">ê¸°ê°„/ë‹¨ìœ„</label>
                            <select id="s-period" class="form-control">
                                <option value="ì›”">ì›” (Month)</option>
                                <option value="ë…„">ë…„ (Year)</option>
                                <option value="Core">Core</option>
                                <option value="ê±´">ê±´ (One-time)</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group" style="margin-top:15px;">
                        <label class="form-label">ìƒì„¸ ì„¤ëª… (ë˜ëŠ” ìŠ¤í™)</label>
                        <input type="text" id="s-summary" class="form-control" placeholder="ìƒì„¸ ì„¤ëª… ì…ë ¥">
                        <small>ì˜ˆ: ê¸°ë³¸ 8Core ì œê³µ, ì •í’ˆ ë¼ì´ì„ ìŠ¤</small>
                    </div>

                    <div class="form-group" style="margin-top:15px;">
                        <label class="form-label">ì£¼ìš” íŠ¹ì§• (ì—”í„°ë¡œ ì¤„ë°”ê¿ˆ)</label>
                        <textarea id="s-features" class="form-control" rows="4"
                            placeholder="íŠ¹ì§• 1&#13;&#10;íŠ¹ì§• 2"></textarea>
                    </div>

                    <div class="grid-2" style="margin-top:15px;">
                        <div class="form-group">
                            <label class="form-label">ì •ë ¬ ìˆœì„œ</label>
                            <input type="number" id="s-order" class="form-control" value="1">
                        </div>
                        <div class="form-group" style="padding-top:30px;">
                            <label style="display:flex; align-items:center; gap:8px;">
                                <input type="checkbox" id="s-active" checked> íŒë§¤ì¤‘
                            </label>
                            <label style="display:flex; align-items:center; gap:8px; margin-left:15px;">
                                <input type="checkbox" id="s-popular"> ì¶”ì²œ ìƒí’ˆ
                            </label>
                        </div>
                    </div>

                    <div style="text-align: right; margin-top:20px;">
                        <button type="submit" class="btn btn-primary" id="s-btn-submit">ì„œë¹„ìŠ¤ ì €ì¥</button>
                    </div>
                </form>
            </div>
        </div>

    </div>

    <!-- ======================= ì‹ ì²­ ê´€ë¦¬ íƒ­ (NEW) ======================= -->
    <div id="tab-application" class="tab-content">
        <h2 class="page-title">ì‹ ì²­ ê´€ë¦¬</h2>
        <p class="page-subtitle">í™ˆí˜ì´ì§€ë¥¼ í†µí•´ ì ‘ìˆ˜ëœ ê²¬ì /ìƒë‹´ ì‹ ì²­ ë‚´ì—­ì…ë‹ˆë‹¤.</p>

        <div class="card">
            <div class="card-header"
                style="display: flex; gap: 10px; align-items: center; justify-content: space-between;">
                <h3 class="card-title">ì‹ ì²­ ë‚´ì—­ ê´€ë¦¬</h3>

                <div style="display:flex; gap:10px;">
                    <select id="app-filter-product" class="form-control"
                        style="width: auto; min-width: 180px; height: 38px; padding: 0 10px; font-size: 14px; color:#1e293b; background-color:#fff;"
                        onchange="loadApplications()">
                        <option value="all">ì „ì²´ ìƒí’ˆ</option>
                        <option value="hosting">ì„œë²„ í˜¸ìŠ¤íŒ…</option>
                        <option value="vpn">VPN ì „ìš©ì„ </option>
                        <option value="colocation">ì½”ë¡œì¼€ì´ì…˜</option>
                        <option value="security">ë³´ì•ˆ ì„œë¹„ìŠ¤</option>
                    </select>
                    <button class="btn btn-secondary" onclick="loadApplications()">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
            </div>

            <div style="padding: 20px 20px 0 20px;">
                <div class="status-tabs">
                    <button class="status-tab-btn active" onclick="filterAppStatus('all', this)">
                        <i class="fas fa-list"></i> ì „ì²´ <span class="count-badge" id="count-all">0</span>
                    </button>
                    <button class="status-tab-btn" onclick="filterAppStatus('pending', this)">
                        <i class="fas fa-clock"></i> ì ‘ìˆ˜ëŒ€ê¸° <span class="count-badge" id="count-pending">0</span>
                    </button>
                    <button class="status-tab-btn" onclick="filterAppStatus('contacting', this)">
                        <i class="fas fa-phone-alt"></i> ìƒë‹´ì¤‘ <span class="count-badge" id="count-contacting">0</span>
                    </button>
                    <button class="status-tab-btn" onclick="filterAppStatus('completed', this)">
                        <i class="fas fa-check-circle"></i> ì²˜ë¦¬ì™„ë£Œ <span class="count-badge" id="count-completed">0</span>
                    </button>
                    <button class="status-tab-btn" onclick="filterAppStatus('cancelled', this)">
                        <i class="fas fa-ban"></i> ì·¨ì†Œë¨ <span class="count-badge" id="count-cancelled">0</span>
                    </button>
                </div>
            </div>

            <div style="overflow-x:auto;">
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th width="100">ì‹ ì²­ì¼ì‹œ</th>
                            <th width="60" style="text-align:center;">ìƒíƒœ</th>
                            <th>ìƒí’ˆ ì •ë³´</th>
                            <th>ê³ ê°ì‚¬<br><span style="font-size:0.85em; font-weight:400; color:#94a3b8;">ë‹´ë‹¹ì</span>
                            </th>
                            <th>ì—°ë½ì²˜</th>
                            <th>ë¬¸ì˜ ë‚´ìš©</th>
                            <th width="80">ê´€ë¦¬</th>
                        </tr>
                    </thead>
                    <tbody id="app-list-body">
                        <!-- JS load -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- ======================= ë‹¤ë¥¸ íƒ­ë“¤ (ê¸°ì¡´ ìœ ì§€) ======================= -->
    <!-- ê³ ê°ì‚¬ ë¡œê³  íƒ­ -->
    <div id="tab-customer" class="tab-content">
        <h2 class="page-title">ê³ ê°ì‚¬ ë¡œê³ </h2>
        <p class="page-subtitle">ë©”ì¸ í˜ì´ì§€ì— ë…¸ì¶œë  ê³ ê°ì‚¬ ë¡œê³ ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>
        <div id="alert-container"></div>
        <!-- ê³ ê°ì‚¬ ì¶”ê°€ í¼ -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title" id="cust-form-title">ê³ ê°ì‚¬ ì¶”ê°€</h3>
                <button type="button" class="btn btn-secondary btn-sm" onclick="resetCustomerForm()"
                    style="margin-left: auto;">
                    <i class="fas fa-undo"></i> ì´ˆê¸°í™”
                </button>
            </div>
            <form id="customer-form">
                <input type="hidden" id="cust-id-hidden"> <!-- DB ID -->

                <div style="display: grid; grid-template-columns: 1fr 2fr auto auto; gap: 16px; align-items: end;">
                    <div class="form-group" style="margin-bottom: 0;">
                        <label class="form-label">ê³ ê°ì‚¬ëª… *</label>
                        <div class="input-wrapper">
                            <input type="text" id="customer-name" class="form-input" placeholder="ê³ ê°ì‚¬ëª… ì…ë ¥" required>
                            <small style="display:block; margin-top:4px; color:#64748b; font-size:13px;">ì˜ˆ:
                                ì‚¼ì„±ì „ì</small>
                        </div>
                    </div>
                    <div class="form-group" style="margin-bottom: 0;">
                        <label class="form-label">ë¡œê³  URL (ì„ íƒ)</label>
                        <div class="input-wrapper">
                            <input type="text" id="customer-logo" class="form-input" placeholder="ë¡œê³  URL ì…ë ¥">
                            <small style="display:block; margin-top:4px; color:#64748b; font-size:13px;">* http://
                                ìƒëµ ê°€ëŠ¥ (ì˜ˆ: google.com/logo.png)</small>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary" id="cust-submit-btn">
                        <i class="fas fa-plus"></i> ì €ì¥
                    </button>
                </div>
            </form>
        </div>
        <!-- ê³ ê°ì‚¬ ëª©ë¡ -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">ë“±ë¡ëœ ê³ ê°ì‚¬ (<span id="customer-count">0</span>ê°œ)</h3>
            </div>
            <div id="customer-list" class="customer-grid"></div>
        </div>
    </div>

    <!-- Other Tabs (Cleaned up) -->
    <!-- ì•½ê´€ ê´€ë¦¬ -->
    <div id="tab-terms" class="tab-content">
        <h2 class="page-title">ì•½ê´€ ê´€ë¦¬</h2>
        <p class="page-subtitle">í™ˆí˜ì´ì§€ í•˜ë‹¨ì— ë…¸ì¶œë˜ëŠ” ì•½ê´€ ë‚´ìš©ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>

        <div class="card">
            <div class="card-header">
                <h3 class="card-title">ì´ìš©ì•½ê´€ ë° ì •ì±… ìˆ˜ì •</h3>
            </div>

            <div class="form-group">
                <label class="form-label">ì•½ê´€ ì„ íƒ</label>
                <div class="admin-tabs" style="justify-content: flex-start; gap: 10px; margin-bottom: 20px;">
                    <button type="button" class="admin-tab active" id="btn-privacy"
                        onclick="loadTermEditor('privacy')">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</button>
                    <button type="button" class="admin-tab" id="btn-terms"
                        onclick="loadTermEditor('terms')">ì´ìš©ì•½ê´€</button>
                    <button type="button" class="admin-tab" id="btn-member"
                        onclick="loadTermEditor('member')">íšŒì›ì•½ê´€</button>
                </div>
            </div>

            <div class="form-group">
                <label class="form-label">ë‚´ìš© í¸ì§‘</label>
                <textarea id="term-content" class="form-input"
                    style="min-height: 500px; font-family: monospace; line-height: 1.6; padding: 20px; white-space: pre-wrap;"
                    placeholder="ì•½ê´€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
            </div>

            <div style="text-align: right; margin-top: 20px;">
                <button class="btn btn-secondary" onclick="resetTermToDefault()">ì´ˆê¸°í™”</button>
                <button class="btn btn-primary" id="btn-save-term" onclick="saveCurrentTerm()">
                    <i class="fas fa-save"></i> ì €ì¥í•˜ê¸°
                </button>
            </div>
        </div>
        <div style="background: #f0f9ff; padding: 20px; border-radius: 8px; margin-top: 20px;">
            <h4><i class="fas fa-info-circle"></i> ì•ˆë‚´</h4>
            <p style="margin-top: 10px; font-size: 14px; color: #64748b;">
                ì—¬ê¸°ì„œ ì €ì¥í•œ ë‚´ìš©ì€ LocalStorageì— ì €ì¥ë©ë‹ˆë‹¤. (ì‹¤ì œ ë°°í¬ ì‹œ ë°±ì—”ë“œ ì—°ë™ í•„ìš”)
            </p>
        </div>
    </div>

    <!-- ======================= ì›¹ë¡œê·¸ ë¶„ì„ íƒ­ ======================= -->
    <div id="tab-analytics" class="tab-content">
        <h2 class="page-title">ì›¹ë¡œê·¸ ë¶„ì„</h2>
        <p class="page-subtitle">ë°©ë¬¸ì í˜„í™© ë° íŠ¸ë˜í”½ì„ ë¶„ì„í•©ë‹ˆë‹¤.</p>

        <!-- Google Analytics Report (Looker Studio) -->
        <div class="card" style="margin-bottom: 30px;">
            <div class="card-header">
                <h3 class="card-title">êµ¬ê¸€ ì›¹ë¡œê·¸ ë¶„ì„ ë¦¬í¬íŠ¸ (GA4)</h3>
                <a href="https://analytics.google.com/" target="_blank" class="btn btn-secondary">
                    <i class="fas fa-external-link-alt"></i> GA4 ì›ë¬¸ ë³´ê¸°
                </a>
            </div>
            <div
                style="position: relative; width: 100%; height: 800px; background: #f8fafc; border-radius: 0 0 12px 12px; overflow: hidden;">
                <iframe
                    src="https://lookerstudio.google.com/embed/reporting/534ba6aa-fe49-4948-9986-9837e5309592/page/1M"
                    frameborder="0" style="border:0; width:100%; height:100%;" allowfullscreen>
                </iframe>
            </div>
        </div>

        <div class="card">
            <div class="card-header">
                <h3 class="card-title">ì£¼ê°„ ë°©ë¬¸ì ì¶”ì´</h3>
                <button class="btn btn-secondary" onclick="refreshAnalytics()">
                    <i class="fas fa-sync-alt"></i> ìƒˆë¡œê³ ì¹¨
                </button>
            </div>
            <div style="height: 300px;">
                <canvas id="analyticsChart"></canvas>
            </div>
        </div>

        <div class="grid-2">
            <div class="card">
                <h3 class="card-title">ì¸ê¸° í˜ì´ì§€ TOP 5</h3>
                <table class="admin-table" style="margin-top:20px;">
                    <thead>
                        <tr>
                            <th>í˜ì´ì§€</th>
                            <th width="100">ë°©ë¬¸ìˆ˜</th>
                        </tr>
                    </thead>
                    <tbody id="top-pages-table">
                        <!-- JS load -->
                    </tbody>
                </table>
            </div>
            <div class="card">
                <h3 class="card-title">ìµœê·¼ ì ‘ì† ë¡œê·¸</h3>
                <table class="admin-table" style="margin-top:20px;">
                    <thead>
                        <tr>
                            <th>ì‹œê°„</th>
                            <th>í˜ì´ì§€</th>
                            <th>IP</th>
                        </tr>
                    </thead>
                    <tbody id="recent-logs-table">
                        <!-- JS load -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- ======================= íšŒì‚¬ ì—°í˜ ê´€ë¦¬ íƒ­ ======================= -->
    <div id="tab-history" class="tab-content">
        <h2 class="page-title">íšŒì‚¬ ì—°í˜ ê´€ë¦¬</h2>
        <p class="page-subtitle">íšŒì‚¬ ì—­ì‚¬ ë° ì£¼ìš” ì´ë²¤íŠ¸ë¥¼ ì—°ë„ë³„ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>

        <div id="history-alert-container"></div>

        <!-- ì—°í˜ ë“±ë¡ í¼ -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title" id="history-form-title">ì—°í˜ ì¶”ê°€</h3>
            </div>
            <form id="history-form">
                <input type="hidden" id="history-edit-id" value="">

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div class="form-group">
                        <label>ì—°ë„ *</label>
                        <input type="number" id="history-year" class="form-control" placeholder="ì˜ˆ: 2025" min="1900"
                            max="2100" required>
                    </div>
                    <div class="form-group">
                        <label>ì›” (ì„ íƒ)</label>
                        <select id="history-month" class="form-control">
                            <option value="">ì—°ë„ë§Œ</option>
                            <option value="1">1ì›”</option>
                            <option value="2">2ì›”</option>
                            <option value="3">3ì›”</option>
                            <option value="4">4ì›”</option>
                            <option value="5">5ì›”</option>
                            <option value="6">6ì›”</option>
                            <option value="7">7ì›”</option>
                            <option value="8">8ì›”</option>
                            <option value="9">9ì›”</option>
                            <option value="10">10ì›”</option>
                            <option value="11">11ì›”</option>
                            <option value="12">12ì›”</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label>ì œëª© *</label>
                    <input type="text" id="history-title" class="form-control" placeholder="ì˜ˆ: ë‹¤ë‚ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ì œê³µ" required>
                </div>

                <div class="form-group">
                    <label>ì„¤ëª…</label>
                    <textarea id="history-description" class="form-control" rows="3"
                        placeholder="ìƒì„¸ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš” (ì„ íƒì‚¬í•­)"></textarea>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label>ì •ë ¬ ìˆœì„œ</label>
                        <input type="number" id="history-sort" class="form-control" value="1" min="1">
                        <small style="color: #999;">ê°™ì€ ì—°ë„/ì›” ë‚´ì—ì„œì˜ ìˆœì„œ</small>
                    </div>
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 8px;">
                            <input type="checkbox" id="history-active" checked>
                            í™œì„±í™”
                        </label>
                    </div>
                </div>

                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="submit" class="btn btn-primary" id="history-submit-btn">
                        <i class="fas fa-plus"></i> ì¶”ê°€
                    </button>
                    <button type="button" class="btn btn-secondary" id="history-cancel-btn" onclick="resetHistoryForm()"
                        style="display: none;">
                        <i class="fas fa-times"></i> ì·¨ì†Œ
                    </button>
                </div>
            </form>
        </div>

        <!-- ì—°í˜ ëª©ë¡ -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">ë“±ë¡ëœ ì—°í˜ (<span id="history-count">0</span>)</h3>
                <button class="btn btn-secondary" onclick="refreshHistoryList()">
                    <i class="fas fa-sync"></i> ìƒˆë¡œê³ ì¹¨
                </button>
            </div>
            <div id="history-list" style="min-height: 200px;"></div>
        </div>
    </div>

    <div id="tab-contact" class="tab-content">
        <h2 class="page-title">ì—°ë½ ê´€ë¦¬</h2>
    </div>

    <!-- ======================= FAQ ê´€ë¦¬ íƒ­ ======================= -->
    <div id="tab-faq" class="tab-content">
        <h2 class="page-title">FAQ ê´€ë¦¬</h2>
        <p class="page-subtitle">ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ì„ ì¹´í…Œê³ ë¦¬ë³„ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>

        <div id="faq-alert-container"></div>

        <!-- FAQ ë“±ë¡ í¼ -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title" id="faq-form-title">FAQ ì¶”ê°€</h3>
            </div>
            <form id="faq-form">
                <input type="hidden" id="faq-edit-id" value="">

                <div class="form-group">
                    <label>ì¹´í…Œê³ ë¦¬</label>
                    <select id="faq-category" class="form-control">
                        <option value="general">ì¼ë°˜</option>
                        <option value="technical">ê¸°ìˆ </option>
                        <option value="billing">ìš”ê¸ˆ</option>
                        <option value="service">ì„œë¹„ìŠ¤</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>ì§ˆë¬¸ *</label>
                    <input type="text" id="faq-question" class="form-control" placeholder="ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ì„ ì…ë ¥í•˜ì„¸ìš”" required>
                </div>

                <div class="form-group">
                    <label>ë‹µë³€ *</label>
                    <textarea id="faq-answer" class="form-control" rows="5" placeholder="ë‹µë³€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"
                        required></textarea>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="form-group">
                        <label>ì •ë ¬ ìˆœì„œ</label>
                        <input type="number" id="faq-sort" class="form-control" value="1" min="1">
                    </div>
                    <div class="form-group">
                        <label style="display: flex; align-items: center; gap: 8px;">
                            <input type="checkbox" id="faq-active" checked>
                            í™œì„±í™”
                        </label>
                    </div>
                </div>

                <div style="display: flex; gap: 10px; margin-top: 20px;">
                    <button type="submit" class="btn btn-primary" id="faq-submit-btn">
                        <i class="fas fa-plus"></i> ì¶”ê°€
                    </button>
                    <button type="button" class="btn btn-secondary" id="faq-cancel-btn" onclick="resetFaqForm()"
                        style="display: none;">
                        <i class="fas fa-times"></i> ì·¨ì†Œ
                    </button>
                </div>
            </form>
        </div>

        <!-- FAQ ëª©ë¡ -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">ë“±ë¡ëœ FAQ (<span id="faq-count">0</span>)</h3>
                <button class="btn btn-secondary" onclick="refreshFaqList()">
                    <i class="fas fa-sync"></i> ìƒˆë¡œê³ ì¹¨
                </button>
            </div>
            <!-- FAQ Filter (Added) -->
            <div class="status-tabs" style="padding: 15px 20px 0 20px;">
                <button class="status-tab-btn active" onclick="filterFaq('all', this)">ì „ì²´</button>
                <button class="status-tab-btn" onclick="filterFaq('general', this)">ì¼ë°˜</button>
                <button class="status-tab-btn" onclick="filterFaq('technical', this)">ê¸°ìˆ </button>
                <button class="status-tab-btn" onclick="filterFaq('billing', this)">ìš”ê¸ˆ</button>
                <button class="status-tab-btn" onclick="filterFaq('service', this)">ì„œë¹„ìŠ¤</button>
            </div>
            <div id="faq-list" style="min-height: 200px;"></div>
        </div>
    </div>

    <!-- ======================= ê³µì§€ì‚¬í•­ ê´€ë¦¬ íƒ­ ======================= -->
    <div id="tab-notice" class="tab-content">
        <h2 class="page-title">ê³µì§€ì‚¬í•­ ê´€ë¦¬</h2>
        <p class="page-subtitle">ì‚¬ì´íŠ¸ì˜ ê³µì§€ì‚¬í•­ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.</p>

        <div id="notice-alert-container"></div>

        <!-- ê³µì§€ì‚¬í•­ ë“±ë¡ í¼ -->
        <div class="card">
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <h3 class="card-title" id="notice-form-title">ê³µì§€ì‚¬í•­ ê´€ë¦¬</h3>
                <button class="btn btn-primary" onclick="toggleNoticeForm()">
                    <i class="fas fa-pen"></i> ê³µì§€ ê¸€ì“°ê¸°
                </button>
            </div>
        </div>
        <!-- Form Container (Hidden by default) -->
        <div id="notice-form-container" style="display:none; padding: 20px; border-top: 1px solid #e2e8f0;">
            <input type="hidden" id="notice-edit-id" value="">

            <div class="form-group">
                <label>ì œëª© *</label>
                <input type="text" id="notice-title" class="form-control" placeholder="ê³µì§€ì‚¬í•­ ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" required>
            </div>

            <div class="form-group">
                <label>ë‚´ìš© *</label>
                <!-- Quill Editor Container -->
                <div id="editor-container" style="height: 300px; background:white;"></div>
                <input type="hidden" id="notice-content">
                <small style="color: #999;">í…ìŠ¤íŠ¸ ìŠ¤íƒ€ì¼, ìƒ‰ìƒ, ì •ë ¬ ë“±ì„ ììœ ë¡­ê²Œ í¸ì§‘í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</small>
            </div>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px;">
            <div class="form-group">
                <label>ì‘ì„±ì</label>
                <input type="text" id="notice-author" class="form-control" value="HUMECCA" placeholder="ê´€ë¦¬ì">
            </div>
            <div class="form-group">
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="checkbox" id="notice-pinned">
                    ìƒë‹¨ ê³ ì •
                </label>
            </div>
            <div class="form-group">
                <label style="display: flex; align-items: center; gap: 8px;">
                    <input type="checkbox" id="notice-active" checked>
                    í™œì„±í™”
                </label>
            </div>
        </div>

        <div style="display: flex; gap: 10px; margin-top: 20px;">
            <button type="submit" class="btn btn-primary" id="notice-submit-btn">
                <i class="fas fa-plus"></i> ì‘ì„±
            </button>
            <button type="button" class="btn btn-secondary" id="notice-cancel-btn" onclick="resetNoticeForm()"
                style="display: none;">
                <i class="fas fa-times"></i> ì·¨ì†Œ
            </button>
        </div>
        </form>


        <!-- ê³µì§€ì‚¬í•­ ëª©ë¡ -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">ê³µì§€ì‚¬í•­ ëª©ë¡ (<span id="notice-count">0</span>)</h3>
                <button class="btn btn-secondary" onclick="refreshNoticeList()">
                    <i class="fas fa-sync"></i> ìƒˆë¡œê³ ì¹¨
                </button>
            </div>
            <div id="notice-list" style="min-height: 200px;"></div>
        </div>
    </div>

    <!-- ======================= ë¬¸ì˜ ê´€ë¦¬ íƒ­ ======================= -->
    <div id="tab-inquiry" class="tab-content">
        <h2 class="page-title">ë¬¸ì˜ ê´€ë¦¬</h2>
        <p class="page-subtitle">ê³ ê° ë¬¸ì˜ë¥¼ í™•ì¸í•˜ê³  ë‹µë³€í•©ë‹ˆë‹¤.</p>

        <div id="inquiry-alert-container"></div>

        <!-- í•„í„° -->
        <div class="card">
            <div style="display: flex; gap: 15px; align-items: center;">
                <label style="font-weight: 600;">ìƒíƒœ í•„í„°:</label>
                <select id="inquiry-filter" class="form-control" style="width: 200px;" onchange="refreshInquiryList()">
                    <option value="all">ì „ì²´</option>
                    <option value="pending">ë‹µë³€ ëŒ€ê¸°</option>
                    <option value="replied">ë‹µë³€ ì™„ë£Œ</option>
                    <option value="closed">ì¢…ë£Œ</option>
                </select>
                <button class="btn btn-secondary" onclick="refreshInquiryList()">
                    <i class="fas fa-sync"></i> ìƒˆë¡œê³ ì¹¨
                </button>
            </div>
        </div>

        <!-- ë¬¸ì˜ ëª©ë¡ -->
        <div class="card">
            <div class="card-header">
                <h3 class="card-title">ë¬¸ì˜ ëª©ë¡ (<span id="inquiry-count">0</span>)</h3>
            </div>
            <div id="inquiry-list" style="min-height: 200px;"></div>
        </div>
    </div>

    <div id="tab-contact" class="tab-content">
        <div id="export-overlay">
            <div class="modal-box">
                <div class="card-header"
                    style="border-bottom: 1px solid #eee; padding-bottom: 15px; margin-bottom: 15px;">
                    <h3 class="card-title" id="export-title">ë°ì´í„° íŒŒì¼ ë‹¤ìš´ë¡œë“œ</h3>
                    <button onclick="document.getElementById('export-overlay').style.display='none'"
                        style="border:none; background:none; cursor:pointer;"><i class="fas fa-times"
                            style="font-size: 20px; color: #999;"></i></button>
                </div>
                <p style="color: #666; font-size: 14px; margin-bottom: 15px;">
                    ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ <strong id="export-filename">data.js</strong> íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•˜ì„¸ìš”.<br>
                    ë‹¤ìš´ë¡œë“œí•œ íŒŒì¼ì„ í”„ë¡œì íŠ¸ì˜ <code>js/</code> í´ë”ì— ë®ì–´ì“°ê¸° í•˜ì‹œë©´ ì ìš©ë©ë‹ˆë‹¤.
                </p>
                <textarea id="export-code"
                    style="width: 100%; height: 100px; background: #f8f9fa; border: 1px solid #ddd; padding: 10px; font-size: 12px; margin-bottom: 15px; display:none;"></textarea>

                <button onclick="downloadJS()" class="btn btn-primary"
                    style="width: 100%; justify-content: center; padding: 15px;">
                    <i class="fas fa-download"></i> <span id="export-btn-text">Download</span>
                </button>
            </div>
        </div>


    </div> <!-- End Tab Contact -->

    </div> <!-- End Main Container -->

    <!-- ======================= ë°±ì—…/ë³µêµ¬ íƒ­ ======================= -->
    <div id="tab-backup" class="tab-content" style="max-width: 1000px; margin: 0 auto; color: #f8fafc;">
        <div style="margin-bottom: 30px;">
            <h2 class="page-title"
                style="font-size: 1.8rem; color: #f8fafc; margin-bottom: 10px; display:flex; align-items:center; gap:10px;">
                <i class="fas fa-history" style="color:#60a5fa;"></i> ë¡œì»¬ íŒŒì¼ ë°±ì—…/ë³µêµ¬ (Time Machine)
            </h2>
            <p class="page-subtitle" style="color: #94a3b8;">í˜„ì¬ ì‘ì—… ì¤‘ì¸ ë¡œì»¬ íŒŒì¼ë“¤ì„ ìŠ¤ëƒ…ìƒ·ìœ¼ë¡œ ì €ì¥í•˜ê±°ë‚˜, ì´ì „ ì‹œì ìœ¼ë¡œ ì¦‰ì‹œ ë˜ëŒë¦½ë‹ˆë‹¤.</p>
        </div>

        <div class="card"
            style="background: #1e293b; border: 1px solid #334155; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.5);">
            <div class="card-header"
                style="display: flex; justify-content: space-between; align-items: center; padding: 20px; background: rgba(15, 23, 42, 0.5); border-bottom: 1px solid #334155;">
                <div>
                    <h3 class="card-title" style="font-size: 1.25rem; font-weight: 700; color: #f8fafc;">ë°±ì—… íƒ€ì„ë¼ì¸</h3>
                    <p style="font-size: 0.9rem; color: #94a3b8; margin-top: 5px;">* ë³µêµ¬ ì‹œ í˜„ì¬ íŒŒì¼ì€ ë®ì–´ì”Œì›Œì§‘ë‹ˆë‹¤.</p>
                </div>
                <button class="btn btn-primary" onclick="createBackup()" id="btn-create-backup"
                    style="padding: 10px 24px; font-size: 1rem; background: #3b82f6; border: none; color: white;">
                    <i class="fas fa-save"></i> í˜„ì¬ ìƒíƒœ ë°±ì—…í•˜ê¸°
                </button>
            </div>
            <div id="backup-list" style="max-height: 600px; overflow-y: auto; min-height: 200px; background: #1e293b;">
                <!-- Backups loaded here via JS -->
            </div>
        </div>
    </div>

    <!-- Generic Admin Modal (Premium Design) -->
    <div id="admin-common-modal" class="modal">
        <div class="modal-content">
            <div class="premium-modal-header">
                <div class="premium-modal-title" id="admin-modal-title">ìƒì„¸ ì •ë³´</div>
                <div class="premium-close" onclick="closeAdminModal()">&times;</div>
            </div>
            <div id="admin-modal-body" class="premium-modal-body">
                <!-- Dynamic Content Loading -->
            </div>
        </div>
    </div>

    <script src="admin_logic_v10.js?v=10.0"></script>
    <script src="js/data_loader.js?v=8.0"></script>
    <script src="js/admin_analytics.js?v=1.0"></script> <!-- Analytics Script Added -->
    <script>
        // Tab switching logic override to trigger analytics refresh
        const originalShowTab = window.showTab;
        window.showTab = function (tabName) {
            // Call original
            if (typeof originalShowTab === 'function') originalShowTab(tabName);

            // Handle custom logic
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            const target = document.getElementById('tab-' + tabName);
            if (target) target.classList.add('active');

            document.querySelectorAll('.admin-tab').forEach(el => el.classList.remove('active'));
            // Find button that calls this tab
            const buttons = document.querySelectorAll('.admin-tab');
            buttons.forEach(btn => {
                if (btn.getAttribute('onclick').includes(`'${tabName}'`)) {
                    btn.classList.add('active');
                }
            });

            // If Analytics tab, refresh data
            if (tabName === 'analytics') {
                if (typeof refreshAnalytics === 'function') {
                    refreshAnalytics();
                }
            }
        }
    </script>
</body>

</html>